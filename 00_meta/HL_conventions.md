# HL__TFW_global_conventions.md — Универсальные конвенции Trace-First Workflow (TFW v2)

## 1) Цель TFW
TFW превращает работу (аналитику, тексты, код, исследования) в воспроизводимый процесс:
- контекст фиксируется,
- решения трассируются,
- результаты повторяемы,
- проект легко продолжать в новых чатах и разными агентами.

## 2) Обязательный минимальный набор артефактов (корень репозитория)
- `README.md` — человеческое объяснение: зачем/что/как.
- `AGENTS.md` — правила поведения ИИ-агента в проекте.
- `TASK.md` — границы, DoD, риски, ограничения.
- `STEPS.md` — журнал итераций (короткие Summary-строки).
- `AI_ENTRY_POINT.md` — протокол инициации и формат Summary.
- `SUCCESS_CRITERIA.md` — критерий «end-to-end без ручных правок результата».
- `HL__file_conventions.md` — правила типов файлов и именования.
- `/00_meta/HL_conventions.md` — проектные конвенции.
- `/00_meta/HL_glossary.md` — глоссарий проекта.

## 3) Типы файлов (канонические)
### HL__ (High Level)
Контекст/рамка. Не является задачей. Используется как «карта смысла».

### TS__ (Task Spec)
Постановка задачи. Всегда самодостаточна: входы/выходы/ограничения/DoD.

### RF__ (Result File)
Результат/факт/данные/финальный текст. RF имеет приоритет как источник истины.

## 4) Нумерация задач
Используется сквозной ID `TFW-N`:
- `TS__TFW-N__...md`
- `RF__TFW-N__...md`

Внутри TS/RF указывается `Task: TFW-N` для склейки и навигации.

## 5) Режимы исполнения
### CL (Chat Loop) — по умолчанию
- ИИ не выполняет внешние действия (SQL/CLI/API).
- Человек выполняет и приносит результаты.
- ИИ ведёт итерациями: запросил минимум контекста → дал следующий атомарный шаг → оформил артефакт.

### AG (Autonomous) — только по явному запросу
- ИИ работает строго по файлам HL/TS/RF, без внешних действий.
- Производит артефакты (обычно RF) на основе имеющегося контекста.

## 6) Порядок загрузки контекста в новом чате (строго)
1) `AGENTS.md`
2) `STEPS.md`
3) `TASK.md`
4) `README.md`
5) `/00_meta/HL_conventions.md`, `/00_meta/HL_glossary.md`
6) затем релевантные HL/TS/RF по теме задачи

## 7) Стандарт качества (без компромиссов)
- Никаких placeholder-ов.
- Результат должен быть пригоден к использованию без ручных правок.
- Если результат неверен — правится промпт/контекст и задача повторяется до качества.
- Задачи атомарные и проверяемые человеком.

## 8) Безопасность и честность исполнения
- В CL нельзя утверждать, что что-то было «запущено» или «проверено» вне чата.
- Секреты не запрашивать в открытом виде. По умолчанию — локальное исполнение и документирование переменных окружения.

## 9) Summary-строка (обязательна в каждом ответе аген
